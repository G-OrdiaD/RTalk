{"ast":null,"code":"var _jsxFileName = \"/Users/echobravo/chat-app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { io } from 'socket.io-client';\nimport Picker from '@emoji-mart/react';\nimport data from '@emoji-mart/data';\nimport VoiceRecorder from './VoiceRecorder'; // Ensure VoiceRecorder is implemented and its button accepts className\nimport { AuthContext } from './context/AuthContext'; // Import AuthContext\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:4000';\nconst socket = io(BACKEND_URL);\nfunction App() {\n  _s();\n  const {\n    user,\n    logout\n  } = useContext(AuthContext);\n  const [messages, setMessages] = useState([]); // Initialized with EMPTY array\n  const [inputMessage, setInputMessage] = useState('');\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  useEffect(() => {\n    if (user && user.username) {\n      socket.emit('user-online', user.username);\n    }\n    socket.on('new-message', newMsg => {\n      setMessages(prev => [...prev, newMsg]);\n    });\n    socket.on('read-receipt', messageId => {\n      setMessages(prev => prev.map(msg => msg._id === messageId ? {\n        ...msg,\n        isRead: true\n      } : msg));\n    });\n    return () => {\n      socket.off('new-message');\n      socket.off('read-receipt');\n    };\n  }, [user]);\n  const sendTextMessage = () => {\n    if (inputMessage.trim() && user && user.username) {\n      socket.emit('send-message', {\n        text: inputMessage,\n        user: user.username\n      });\n      setInputMessage('');\n    }\n  };\n  const handleRecordingComplete = blob => {\n    if (user && user.username) {\n      const reader = new FileReader();\n      reader.readAsDataURL(blob);\n      reader.onloadend = () => {\n        const base64data = reader.result;\n        socket.emit('send-message', {\n          user: user.username,\n          voiceNote: base64data\n        });\n      };\n    }\n  };\n  const onEmojiSelect = emoji => {\n    setInputMessage(prev => prev + emoji.native);\n    setShowEmojiPicker(false);\n  };\n  if (!user || !user.username) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#F5F5DC',\n        minHeight: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: \"Loading or Redirecting...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }, this);\n  }\n  return (\n    /*#__PURE__*/\n    // Outer container for the whole chat page, takes full screen and is relative\n    _jsxDEV(\"div\", {\n      className: \"min-h-screen h-screen relative\",\n      style: {\n        backgroundColor: '#F5F5DC'\n      },\n      children: [user && user.username && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-4 p-2 rounded-lg flex items-center space-x-2\",\n        style: {\n          backgroundColor: '#F5F5DC'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-700 text-sm\",\n          children: [\"Logged in as: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            style: {\n              color: '#722F37'\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 65\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"p-2 rounded-full bg-[#722F37] text-white hover:bg-[#5C262B] focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-xl shadow-xl p-6 w-full max-w-md\",\n        style: {\n          backgroundColor: '#F5F5DC'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center pb-4 mb-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            style: {\n              color: '#722F37'\n            },\n            children: \"RTalk \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 rounded-lg h-64 overflow-y-auto mb-4 border border-gray-200\",\n          style: {\n            backgroundColor: '#F5F5DC'\n          },\n          children: messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mb-2 p-3 rounded-lg relative max-w-[80%] text-white`,\n            style: {\n              backgroundColor: '#722F37'\n            } /* All messages now have a single, consistent color */,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [msg.user, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), \" \", msg.text, msg.voiceNote && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs\",\n                children: \"0:00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"100\",\n                value: \"0\",\n                className: \"flex-grow h-1 rounded-lg appearance-none cursor-pointer bg-gray-200 accent-[#722F37]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-white\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M9.383 3.023A1.001 1.001 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1.001 1.001 0 011.09-.27zM14 8a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1zm-4 0a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1zm4 0a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 132\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), msg.timestamp && !isNaN(new Date(msg.timestamp)) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-200 mt-1\",\n              children: new Date(msg.timestamp).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, msg._id || i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mt-4 relative p-2 rounded-lg shadow-md\",\n          style: {\n            backgroundColor: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setShowEmojiPicker(!showEmojiPicker),\n            className: \"p-2 rounded-full text-white mr-2 focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B] disabled:opacity-50\",\n            disabled: !user,\n            style: {\n              backgroundColor: '#722F37'\n            },\n            children: \"\\uD83D\\uDE0A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-full left-0 mb-2 z-10\",\n            children: /*#__PURE__*/_jsxDEV(Picker, {\n              onSelect: onEmojiSelect,\n              data: data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && sendTextMessage(),\n            placeholder: \"Type a message...\",\n            className: \"flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#722F37] bg-white\",\n            disabled: !user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: sendTextMessage,\n            className: \"p-2 rounded-full text-white ml-2 focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B] disabled:opacity-50\",\n            disabled: !user || !inputMessage.trim(),\n            style: {\n              backgroundColor: '#722F37'\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(VoiceRecorder, {\n            onRecordingComplete: handleRecordingComplete,\n            disabled: !user,\n            className: \"ml-2\",\n            buttonClassName: \"p-2 rounded-full text-white focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B]\",\n            buttonStyle: {\n              backgroundColor: '#722F37'\n            },\n            icon: \"\\uD83C\\uDFA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(App, \"4VIXypVEZSPlUhsPmI8yGZR6aCw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useContext","io","Picker","data","VoiceRecorder","AuthContext","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","socket","App","_s","user","logout","messages","setMessages","inputMessage","setInputMessage","showEmojiPicker","setShowEmojiPicker","username","emit","on","newMsg","prev","messageId","map","msg","_id","isRead","off","sendTextMessage","trim","text","handleRecordingComplete","blob","reader","FileReader","readAsDataURL","onloadend","base64data","result","voiceNote","onEmojiSelect","emoji","native","style","backgroundColor","minHeight","display","alignItems","justifyContent","children","fileName","_jsxFileName","lineNumber","columnNumber","className","color","onClick","i","type","min","max","value","fill","viewBox","xmlns","fillRule","d","clipRule","timestamp","isNaN","Date","toLocaleTimeString","disabled","onSelect","onChange","e","target","onKeyPress","key","placeholder","onRecordingComplete","buttonClassName","buttonStyle","icon","_c","$RefreshReg$"],"sources":["/Users/echobravo/chat-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { io } from 'socket.io-client';\nimport Picker from '@emoji-mart/react';\nimport data from '@emoji-mart/data';\nimport VoiceRecorder from './VoiceRecorder'; // Ensure VoiceRecorder is implemented and its button accepts className\nimport { AuthContext } from './context/AuthContext'; // Import AuthContext\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:4000';\nconst socket = io(BACKEND_URL);\n\nfunction App() {\n  const { user, logout } = useContext(AuthContext); \n  const [messages, setMessages] = useState([]); // Initialized with EMPTY array\n  const [inputMessage, setInputMessage] = useState('');\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n\n  useEffect(() => {\n    if (user && user.username) {\n      socket.emit('user-online', user.username);\n    }\n\n    socket.on('new-message', (newMsg) => {\n      setMessages(prev => [...prev, newMsg]);\n    });\n\n    socket.on('read-receipt', (messageId) => {\n      setMessages(prev => prev.map(msg => \n        msg._id === messageId ? { ...msg, isRead: true } : msg\n      ));\n    });\n\n    return () => {\n      socket.off('new-message');\n      socket.off('read-receipt');\n    };\n  }, [user]);\n\n  const sendTextMessage = () => {\n    if (inputMessage.trim() && user && user.username) {\n      socket.emit('send-message', { \n        text: inputMessage,\n        user: user.username,\n      });\n      setInputMessage('');\n    }\n  };\n\n  const handleRecordingComplete = (blob) => {\n    if (user && user.username) {\n      const reader = new FileReader();\n      reader.readAsDataURL(blob);\n      reader.onloadend = () => {\n        const base64data = reader.result;\n        socket.emit('send-message', {\n          user: user.username,\n          voiceNote: base64data,\n        });\n      };\n    }\n  };\n\n  const onEmojiSelect = (emoji) => {\n    setInputMessage(prev => prev + emoji.native);\n    setShowEmojiPicker(false);\n  };\n\n  if (!user || !user.username) {\n    return <div style={{ backgroundColor: '#F5F5DC', minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Loading or Redirecting...</div>;\n  }\n\n  return (\n    // Outer container for the whole chat page, takes full screen and is relative\n    <div className=\"min-h-screen h-screen relative\" style={{ backgroundColor: '#F5F5DC' }}>\n      \n      {/* Username and Logout at Top Left Corner */}\n      {user && user.username && (\n        <div className=\"absolute top-4 left-4 p-2 rounded-lg flex items-center space-x-2\" style={{ backgroundColor: '#F5F5DC' }}>\n          <span className=\"text-gray-700 text-sm\">Logged in as: <span className=\"font-semibold\" style={{ color: '#722F37' }}>{user.username}</span></span>\n          <button onClick={logout} className=\"p-2 rounded-full bg-[#722F37] text-white hover:bg-[#5C262B] focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200\">\n            Logout\n          </button>\n        </div>\n      )}\n\n      {/* Centered Chat Box */}\n      <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-xl shadow-xl p-6 w-full max-w-md\" style={{ backgroundColor: '#F5F5DC' }}>\n        \n        {/* Chat Header */}\n        <div className=\"flex justify-between items-center pb-4 mb-4 border-b border-gray-200\">\n          <h1 className=\"text-2xl font-bold\" style={{ color: '#722F37' }}>RTalk </h1>\n          {/* Logout button is now in the top-left corner, not here */}\n        </div>\n\n        {/* Message Display Area */}\n        <div className=\"p-4 rounded-lg h-64 overflow-y-auto mb-4 border border-gray-200\" style={{ backgroundColor: '#F5F5DC' }}>\n          {messages.map((msg, i) => (\n            <div \n              key={msg._id || i}\n              className={`mb-2 p-3 rounded-lg relative max-w-[80%] text-white`}\n              style={{ backgroundColor: '#722F37' }} /* All messages now have a single, consistent color */\n            >\n              <strong>{msg.user}:</strong> {msg.text}\n              {msg.voiceNote && (\n                <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-xs\">0:00</span>\n                    <input type=\"range\" min=\"0\" max=\"100\" value=\"0\" className=\"flex-grow h-1 rounded-lg appearance-none cursor-pointer bg-gray-200 accent-[#722F37]\" />\n                    <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M9.383 3.023A1.001 1.001 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1.001 1.001 0 011.09-.27zM14 8a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1zm-4 0a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1zm4 0a1 1 0 011 1v2a1 1 0 11-2 0V9a1 1 0 011-1z\" clipRule=\"evenodd\"></path></svg>\n                </div>\n              )}\n              {msg.timestamp && !isNaN(new Date(msg.timestamp)) && (\n                <p className=\"text-xs text-gray-200 mt-1\">{new Date(msg.timestamp).toLocaleTimeString()}</p>\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Input area */}\n        <div className=\"flex items-center mt-4 relative p-2 rounded-lg shadow-md\" style={{ backgroundColor: 'white' }}>\n          {/* Emoji Button */}\n          <button \n            type=\"button\"\n            onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n            className=\"p-2 rounded-full text-white mr-2 focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B] disabled:opacity-50\"\n            disabled={!user}\n            style={{ backgroundColor: '#722F37' }}\n          >\n            ðŸ˜Š\n          </button>\n\n          {showEmojiPicker && (\n            <div className=\"absolute bottom-full left-0 mb-2 z-10\">\n              <Picker \n                onSelect={onEmojiSelect} \n                data={data}\n              />\n            </div>\n          )}\n\n          {/* Message Input */}\n          <input\n            type=\"text\"\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && sendTextMessage()}\n            placeholder=\"Type a message...\"\n            className=\"flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#722F37] bg-white\"\n            disabled={!user}\n          />\n\n          {/* Send Button */}\n          <button \n            type=\"submit\"\n            onClick={sendTextMessage}\n            className=\"p-2 rounded-full text-white ml-2 focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B] disabled:opacity-50\"\n            disabled={!user || !inputMessage.trim()}\n            style={{ backgroundColor: '#722F37' }}\n          >\n            Send\n          </button>\n          \n          {/* Voice Recorder Button */}\n          <VoiceRecorder \n            onRecordingComplete={handleRecordingComplete} \n            disabled={!user}\n            className=\"ml-2\"\n            buttonClassName=\"p-2 rounded-full text-white focus:outline-none focus:ring-2 focus:ring-[#722F37] transition-colors duration-200 hover:bg-[#5C262B]\"\n            buttonStyle={{ backgroundColor: '#722F37' }}\n            icon=\"ðŸŽ¤\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}